{% macro billingRow(row) %}

  {# Status colours #}
  {% set statusColours = {
      "Accepted": "green",
      "Pending": "yellow",
      "Rejected": "red"
  } %}

  {# Instruction colours #}
  {% set instructionColours = {
      "Initial": "blue",
      "Delta": "blue",
      "Rebill": "blue",
      "Cancel bill": "blue",
      "No action": "grey"
  } %}

  {% set statusColour = statusColours[row.status] or "grey" %}
  {% set instructionColour = instructionColours[row.billingInstruction] or "grey" %}

  <tr class="govuk-table__row billing-row"
      data-organisation="{{ row.organisation }}"
      data-org-id="{{ row.organisationId }}"
      data-status="{{ row.status }}"
      data-instruction="{{ row.billingInstruction }}">

    <td class="govuk-table__cell checkbox-select-record">
      <div class="govuk-checkboxes__item">
        <input 
          class="govuk-checkboxes__input js-row-select"
          id="select-{{ row.organisationId }}" 
          name="selected[]" 
          type="checkbox" 
          value="{{ row.organisationId }}">
        <label class="govuk-label govuk-checkboxes__label" for="select-{{ row.organisationId }}"></label>
      </div>
    </td>

    <td class="govuk-table__cell">
      <a href="#" class="govuk-link">{{ row.organisation }}</a>
    </td>

    <td class="govuk-table__cell">
      {{ row.organisationId }}
    </td>

    <td class="govuk-table__cell">
      <strong class="govuk-tag govuk-tag--{{ instructionColour }}">
        {{ row.billingInstruction }}
      </strong>
    </td>

    <td class="govuk-table__cell">
      Â£{{ row.amount }}
    </td>

    <td class="govuk-table__cell">
      {% if row.status %}
        <strong class="govuk-tag govuk-tag--{{ statusColour }}">
          {{ row.status }}
        </strong>
      {% endif %}
    </td>

  </tr>

{% endmacro %}
