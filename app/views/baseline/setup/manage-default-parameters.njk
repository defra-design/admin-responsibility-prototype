{% extends "layouts/" + version + ".html" %}

{% block beforeContent %}
  {% set showBackLink = true %}
  {% set showAccountLink = true %}
  {% include version ~ "/_includes/before-content.njk" %}
{% endblock %}

<!-- Default parameters (User has successfully uploaded parameters-->

{% block content %}

{% set sections = [
  {
    title: "Communication costs by material",
    items: [
      { key: "Aluminium", val: "£2870.00" },
      { key: "Fibre composite", val: "£7600.00" },
      { key: "Glass", val: "£4800.00" },
      { key: "Paper or card", val: "£10290.00" },
      { key: "Plastic", val: "£9000.00" },
      { key: "Steel", val: "£9500.00" },
      { key: "Wood", val: "£1200.00" },
      { key: "Other materials", val: "£8300.00" }
    ]
  },
  {
    title: "Communication costs by country",
    items: [
      { key: "United Kingdom", val: "£50123.00" },
      { key: "England", val: "£10100.00" },
      { key: "Wales", val: "£5000.00" },
      { key: "Scotland", val: "£6000.00" },
      { key: "Northern Ireland", val: "£2500.00" }
    ]
  },
  {
    title: "Scheme administrator operating costs",
    items: [
      { key: "England", val: "£25000.00" },
      { key: "Wales", val: "£14000.00" },
      { key: "Scotland", val: "£17000.00" },
      { key: "Northern Ireland", val: "£9000.00" }
    ]
  },
  {
    title: "Local authority data preparation costs",
    items: [
      { key: "England", val: "£16000.00" },
      { key: "Wales", val: "£7000.00" },
      { key: "Scotland", val: "£9000.00" },
      { key: "Northern Ireland", val: "£4500.00" }
    ]
  },
  {
    title: "Scheme setup costs",
    items: [
      { key: "England", val: "£17500.00" },
      { key: "Wales", val: "£23400.00" },
      { key: "Scotland", val: "£12400.00" },
      { key: "Northern Ireland", val: "£9450.00" }
    ]
  },
  {
    title: "Late reporting tonnage",
    items: [
      { key: "Aluminium", val: "8000.000" },
      { key: "Fibre composite", val: "7000.000" },
      { key: "Glass", val: "6000.000" },
      { key: "Paper or card", val: "5000.000" },
      { key: "Plastic", val: "4000.000" },
      { key: "Steel", val: "3000.000" },
      { key: "Wood", val: "2000.000" },
      { key: "Other materials", val: "1000.000" }
    ]
  },
  {
    title: "Bad debt provision",
    items: [
      { key: "Percentage", val: "6.00%" }
    ]
  },
  {
    title: "Materiality threshold",
    items: [
      { key: "Amount Increase", val: "£5000.00" },
      { key: "Amount Decrease", val: "-£1000.00" },
      { key: "Percent Increase", val: "2.00%" },
      { key: "Percent Decrease", val: "-1.00%" }
    ]
  },
  {
    title: "Tonnage change threshold",
    items: [
      { key: "Amount Increase", val: "£50.00" },
      { key: "Amount Decrease", val: "-£10.00" },
      { key: "Percent Increase", val: "2.00%" },
      { key: "Percent Decrease", val: "-0.50%" }
    ]
  }
] %}
{% if data.defaultParams == "true" %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-l govuk-!-margin-bottom-2">Last updated by Jamie Roberts at <strong>10:01</strong> on 28 June 2025</span>
    <h1 class="govuk-heading-xl">Default calculator parameters</h1>

    {# 2. THE LOOP: Rendering every section and row automatically #}
    {% for section in sections %}
      <h2 class="govuk-heading-l">{{ section.title }}</h2>
      <dl class="govuk-summary-list govuk-!-margin-bottom-9">
        {% for row in section.items %}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              {{ row.key }}
            </dt>
            <dd class="govuk-summary-list__value">
              {{ row.val }}
            </dd>
            <dd class="govuk-summary-list__actions">
              {# Empty actions column to match the design visual spacing #}
            </dd>
          </div>
        
      {% endfor %}
      </dl>
    {% endfor %}
  
{% else %}

<!-- When a user hasn't uploaded default parameters yet -->
<h1 class="govuk-heading-xl">Default calculator parameters</h1>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <span class="govuk-caption-xl">Default parameters have not been set. </span><br>
      <hr>
      <p>You will need to upload a CSV file using the <a href="#" class="govuk-link--no-visited-state"> default parameters template</a> to set them before you can run any calculations.</p>
    </div>
  </div>
{% endif%}
<!-- Upload new parameters -->
<div class="govuk-button-group">
    <a href="upload-file?intent=manageDefaultParameters" class="govuk-button">
      Upload new default parameters
    </a>
    <a class="govuk-link" href="../paycal-dashboard">
      Return to the dashboard
    </a>
  </div>
        
{% endblock %}